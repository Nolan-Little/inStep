{% extends 'index.html' %}
{% load static %}
{% block styles %}
{% endblock styles %}

{% block content %}
    <div class="container">
        <h5 class="header">Managing events for {{org.name}}</h5>
        <div class="row">

            {% comment %} event templates {% endcomment %}
            <div class="col-sm-12 col-lg-6 col-md-12 container">
                <div class="row">
                    <div class="col-6">
                        <h2>Events</h2>
                    </div>
                    <div class="col-5 offset-1 d-flex align-items-center justify-content-center">
                        <button class="btn-primary">
                            <a class="text-white" href="/new_event_template">New Event</a>
                        </button>
                    </div>
                </div>
                <table class="table">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Venue</th>
                            <th scope="col"></th>
                            <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody>
                        {% if event_templates|length == 0 %}
                            <tr>
                                <th scope="row" class="alert"> You haven't created any events.
                                    <button class="btn-primary">
                                        <a href="/new_event_template">Try it!</a>
                                    </button>
                                    </th>
                            </tr>
                        {% endif %}
                        {% for event in event_templates %}
                            <tr>
                                <td scope="row">{{event.name}}</td>
                                <td>{{event.venue}}</td>
                                <td>
                                    <button class="btn-primary">
                                        <a class="text-white" href="/schedule_event">schedule</a>
                                    </button>
                                </td>
                                <td>
                                    <button class="btn-warning">
                                        <a class="text-white" href="{% url 'volunteer:edit_event_template' event.id %}">edit</a>
                                    </button>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            {% comment %} Scheduled events {% endcomment %}
            <div class="col-sm-12 col-lg-6 col-md-12 container">
                                <div class="row">
                    <div class="col-7">
                        <h2>Schedule</h2>
                    </div>
                    <div class="col-5 d-flex align-items-center justify-content-center">
                        {% comment %} button goes here {% endcomment %}
                    </div>
                </div>
                <table class="table">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% if scheduled_events|length == 0 %}
                            <tr>
                                <th scope="row" class="alert"> You haven't scheduled any events.
                                    <button class="btn-primary">
                                        <a href="/schedule_event">Try it!</a>
                                    </button>
                                </th>
                            </tr>
                        {% endif %}
                        {% for event in scheduled_events %}
                            <tr>
                                <th scope="row">{{event.event_template.name}}</td>
                                <td>{{event.date}}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
{% comment %}
        {% for event in scheduled_events %}
            <a href="{% url  'volunteer:sign_up' event.sign_up_url %}">localhost:8000/sign_up{{event.sign_up_url}}</a>
        {% endfor %} {% endcomment %}
    </div>
{% endblock content %}
